(this.webpackJsonpweather_api_react=this.webpackJsonpweather_api_react||[]).push([[0],{19:function(e,t,c){},21:function(e,t,c){},23:function(e,t,c){},25:function(e,t,c){},34:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(6),s=c.n(i),r=(c(19),c(10)),o=c.n(r),l=c(8),d=c(11),u=c(3),j=(c(21),c(22),c(23),c(0));function p(e){var t=e.now,c=e.tempType,a=e.handleTempType,n=e.backgroundCode,i=t.name,s=t.fahrenheit,r=t.minFahrenheit,o=t.maxFahrenheit,l=t.celcius,d=t.minCelcius,u=t.maxCelcius,p=t.icon,m=t.description;return Object(j.jsx)("div",{className:"weather",children:Object(j.jsx)("div",{className:"weather-container",children:Object(j.jsxs)("div",{className:"bg".concat(n),children:[Object(j.jsx)("h1",{children:i}),Object(j.jsxs)("div",{className:"info-container",children:[Object(j.jsx)("div",{className:"side",children:Object(j.jsx)("div",{className:"icon-container",children:Object(j.jsx)("i",{className:"wi ".concat(p)})})}),Object(j.jsxs)("div",{className:"side",children:[" ",Object(j.jsx)("h2",{className:"current-temp",onClick:a,children:"imperial"===c?"".concat(s,"\xb0F"):"".concat(l,"\xb0C")}),Object(j.jsxs)("h3",{children:[Object(j.jsx)("span",{className:"max-temp",children:"".concat("imperial"===c?o:u,"\xb0")}),Object(j.jsx)("span",{children:"/"}),Object(j.jsx)("span",{className:"min-temp",children:"".concat("imperial"===c?r:d,"\xb0")})]}),Object(j.jsx)("h4",{className:"description",children:m})]})]})]})})})}c(25);var m=c(12),b=c.n(m);function h(e){var t=e.cityInput,c=e.countryInput,a=e.setCityInput,n=e.setCountryInput,i=e.getWeather,s=e.error,r=e.backgroundCode,o=e.recent,d=e.setRecent,u=""===t;return console.log("recent",o),Object(j.jsxs)("div",{className:"search",children:[Object(j.jsxs)("form",{action:"",children:[Object(j.jsx)("div",{className:"input-container input".concat(r),children:Object(j.jsx)("input",{type:"text",placeholder:"City",onChange:function(e){return a(e.target.value)},value:"".concat(t),onFocus:function(){return a("")}})}),Object(j.jsx)("div",{className:"input-container input".concat(r),children:Object(j.jsx)("input",{type:"text",placeholder:"Country",onChange:function(e){return n(e.target.value)},value:"".concat(c),onFocus:function(){return n("")}})}),Object(j.jsx)("button",{className:"button".concat(r),disabled:u,type:"submit",onClick:function(e){e.preventDefault(),i(t.trim(),c)},children:Object(j.jsx)(b.a,{})})]}),Object(j.jsx)("div",{className:"recent",children:o.map((function(e){return Object(j.jsx)("span",{className:"city city".concat(r),onClick:function(){return function(e){if(!o.includes(e)){var t=[e].concat(Object(l.a)(o));t.pop(),d(t)}i(e,"")}("".concat(e))},children:e})}))}),Object(j.jsx)("div",{className:"error",style:s?{opacity:1}:{opacity:0},children:Object(j.jsx)("span",{children:s||null})})]})}c(34);function x(e){var t=e.forecast,c=e.tempType,a=e.backgroundCode;return Object(j.jsx)("div",{className:"forecast-container bg".concat(a),children:t.map((function(e,t){var a=e.date,n=e.minFahrenheit,i=e.maxFahrenheit,s=e.minCelcius,r=e.maxCelcius,o=e.icon;return Object(j.jsxs)("div",{className:"day-container",children:[Object(j.jsx)("span",{className:"date",children:a}),Object(j.jsx)("div",{className:"icon-container",children:Object(j.jsx)("i",{className:"wi ".concat(o)})}),Object(j.jsxs)("span",{className:"minmax-container",children:[Object(j.jsx)("span",{className:"max-temp",children:"".concat("imperial"===c?i:r,"\xb0")}),Object(j.jsx)("span",{children:"/"}),Object(j.jsx)("span",{className:"min-temp",children:"".concat("imperial"===c?n:s,"\xb0")})]})]})}))})}c.p;var O=c.p+"static/media/background-sunny.e6162554.jpg",y=(c.p,c.p+"static/media/background-rain.17415aab.jpg"),f=c.p+"static/media/background-storm.9ece14c5.jpg",g=c.p+"static/media/background-snow.20bd9145.jpg",v=(c.p,c.p+"static/media/background-cloud-801.25178247.jpg"),w=c.p+"static/media/background-cloud-802.088c9780.jpg",N=c.p+"static/media/background-cloud-803.27698d06.jpg",C=c.p+"static/media/background-cloud-804.8c6c7f57.jpg",k=c.p+"static/media/background-fog.dd14cfba.jpg",S="e705fd2733337e25a8b91977646312e1";var F=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),r=s[0],m=s[1],b=Object(a.useState)({}),F=Object(u.a)(b,2),M=F[0],T=F[1],I=Object(a.useState)("imperial"),_=Object(u.a)(I,2),D=_[0],L=_[1],U=Object(a.useState)(""),z=Object(u.a)(U,2),A=(z[0],z[1]),E=Object(a.useState)(""),J=Object(u.a)(E,2),R=(J[0],J[1]),W=Object(a.useState)(""),Y=Object(u.a)(W,2),Z=Y[0],q=Y[1],B=Object(a.useState)([{},{},{},{},{},{},{},{}]),G=Object(u.a)(B,2),H=G[0],K=G[1],P=Object(a.useState)(null),Q=Object(u.a)(P,2),V=Q[0],X=Q[1],$=Object(a.useState)(["New York","Los Angeles","Tokyo","London","Sydney"]),ee=Object(u.a)($,2),te=ee[0],ce=ee[1],ae=function(e){return e-273.15},ne=function(e){return 9*(e-273.15)/5+32};function ie(e){return new Date(1e3*e).toLocaleDateString("en-US",{timeZone:"UTC"}).slice(0,-5)}var se=function(){L("imperial"===D?"metric":"imperial"),console.log(D)},re=function(e,t){switch(!0){case e>=200&&e<232:return!0===t&&X(200),"wi-thunderstorm";case e>=300&&e<=321:return!0===t&&X(300),"wi-sleet";case e>=500&&e<=521:return!0===t&&X(500),"wi-storm-showers";case e>=600&&e<=622:return!0===t&&X(600),"wi-snow";case e>=701&&e<=781:return!0===t&&X(700),"wi-fog";case 800===e:return!0===t&&X(800),"wi-day-sunny";case e>=801&&e<=804:return!0===t&&801===e&&X(801),!0===t&&802===e&&X(802),!0===t&&803===e&&X(803),!0===t&&804===e&&X(804),"wi-day-fog";default:return!0===t&&X(801),"wi-day-fog"}},oe=function(){var e=Object(d.a)(o.a.mark((function e(t,c){var a,n,i,s,r,d,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,",").concat(c,"&appid=").concat(S));case 2:return a=e.sent,e.next=5,a.json();case 5:if("404"!==(n=e.sent).cod){e.next=9;break}return q(n.message),e.abrupt("return");case 9:return e.next=11,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n.coord.lat,"&lon=").concat(n.coord.lon,"&exclude=minutely,hourly,alerts&appid=").concat(S));case 11:return i=e.sent,e.next=14,i.json();case 14:for(s=e.sent,console.log("weatherCall",n),console.log("forecastCall",s),A(n.coord.lat),R(n.coord.lon),T({name:n.name,date:ie(n.dt),fahrenheit:Math.round(ne(n.main.temp)),minFahrenheit:Math.round(ne(n.main.temp_min)),maxFahrenheit:Math.round(ne(n.main.temp_max)),celcius:Math.round(ae(n.main.temp)),minCelcius:Math.round(ae(n.main.temp_min)),maxCelcius:Math.round(ae(n.main.temp_max)),icon:re(n.weather[0].id,!0),description:n.weather[0].description}),te.includes(n.name)||((r=[n.name].concat(Object(l.a)(te))).pop(),ce(r)),d=[],u=1;u<8;u++)(j={}).date=ie(s.daily[u].dt),j.minFahrenheit=Math.round(ne(s.daily[u].temp.min)),j.maxFahrenheit=Math.round(ne(s.daily[u].temp.max)),j.minCelcius=Math.round(ae(s.daily[u].temp.min)),j.maxCelcius=Math.round(ae(s.daily[u].temp.max)),j.icon=re(s.daily[u].weather[0].id,!1),d.push(j);console.log(d),q(""),K(d);case 26:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){oe("New York")}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"day-info",children:(new Date).toLocaleDateString("en-US",{timeZone:"UTC"})}),Object(j.jsx)("div",{className:"temp-info",children:Object(j.jsx)("span",{onClick:function(){return se()},children:"imperial"===D?"F\xb0":"C\xb0"})}),Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)(h,{cityInput:c,countryInput:r,setCityInput:n,setCountryInput:m,getWeather:oe,error:Z,backgroundCode:V,recent:te,setRecent:ce}),void 0!==M.name&&Object(j.jsxs)("div",{className:"lower-content",children:[Object(j.jsx)(p,{now:M,tempType:D,handleTempType:se,backgroundCode:V}),Object(j.jsx)(x,{forecast:H,tempType:D,backgroundCode:V})]})]}),Object(j.jsx)("img",{style:200===V?{opacity:1}:{opacity:0},src:f,alt:"thunderstorm"}),Object(j.jsx)("img",{style:300===V?{opacity:1}:{opacity:0},src:y,alt:"drizzle"}),Object(j.jsx)("img",{style:500===V?{opacity:1}:{opacity:0},src:y,alt:"showers"}),Object(j.jsx)("img",{style:600===V?{opacity:1}:{opacity:0},src:g,alt:"snow"}),Object(j.jsx)("img",{style:700===V?{opacity:1}:{opacity:0},src:k,alt:"fog"}),Object(j.jsx)("img",{style:800===V?{opacity:1}:{opacity:0},src:O,alt:"sunny"}),Object(j.jsx)("img",{style:801===V?{opacity:1}:{opacity:0},src:v,alt:"few clouds"}),Object(j.jsx)("img",{style:802===V?{opacity:1}:{opacity:0},src:w,alt:"scattered clouds"}),Object(j.jsx)("img",{style:803===V?{opacity:1}:{opacity:0},src:N,alt:"broken clouds"}),Object(j.jsx)("img",{style:804===V?{opacity:1}:{opacity:0},src:C,alt:"overcast clouds"})]})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.edb4857e.chunk.js.map